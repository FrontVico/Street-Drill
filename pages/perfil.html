<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Perfil do Usuário</title>

    <!-- FAVICON -->
    <link rel="icon" href="../assets/favicon.ico" type="image/x-icon">
    <!-- FAVICON -->

    <!-- CSS -->
    <link rel="stylesheet" href="../estilos/perfil.css">
    <link rel="stylesheet" href="../estilos/tailwind.css">
    <link rel="stylesheet" href="../estilos/produtos.css">
    <!-- CSS -->

    <!-- ICONS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    <!-- ICONS -->

    <!-- FONTES -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Freeman&family=Roboto+Mono:ital,wght@0,100..700;1,100..700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Freeman&family=Roboto+Mono:ital,wght@0,100..700;1,100..700&family=Yatra+One&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Freeman&family=Roboto+Mono:ital,wght@0,100..700;1,100..700&family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900&family=Yatra+One&display=swap" rel="stylesheet">
    <!-- FONTES -->
</head>

<body>

   <!-- NAVBAR -->
   <div class="container">
    <ul class="navbar">
        <li class="links-navbar"><a href="../index.html"><i class="bi bi-house"></i></a></li>
        <li class="links-navbar"><a href="#"><i class="bi bi-cart3"></i></a></li>
        <li class="links-navbar"><a href="../pages/about.html"><i class="bi bi-pencil"></i></a></li>
        <li class="links-navbar"><a href="../pages/perfil.html"><i class="bi bi-person"></i></a></li>
    </ul>
  </div>
  <!-- NAVBAR -->

  <header class="mt-72 w-full h-[320px]">
    <div class="w-full h-full flex flex-col justify-center items-center">
        <img id="profile-picture-img" class="bg-white shadow-lg w-40 h-40 rounded-full hover:scale-110 duration-300">
        <button id="choose-picture-btn" class="bg-black text-xl py-2 px-2 flex group relative font-bold mb-2 mt-4 rounded-2xl text-white p-5">Foto de perfil</button>
        <input type="file" id="picture-input" accept="image/*" hidden>
    </div>
  </header> 

  <!-- PRODUCT CONTAINER -->
  <section class="p-8">
    <h1 class="font-bold text-3xl items-center text-center mt-3 p-3">Histórico de compras</h1>
    <div class="product-container mx-auto items-center">
      <!-- Detalhes do Produto -->
      <div class="product-details p-6 flex-1">
        <h2 class="text-2xl font-bold mb-2">Nome do Produto</h2>
        <p class="text-gray-600 text-xl mb-4">R$ 100,00</p>
        <p class="text-gray-500">Data de Compra:<p id="EstimativaEntrega"></p></p>
        <p class="text-gray-500">Entrega: </p>
      </div>
      <!-- Imagem do Produto -->
      <div class="product-image-container">
        <img class="product-image" src="../assets/Roupas/Camiseta1.jpeg" alt="Foto do produto">
      </div>
    </div>
  </section>

  <section class="p-8 mt-2">
    <div class="product-container mx-auto items-center">
      <!-- Detalhes do Produto -->
      <div class="product-details p-6 flex-1">
        <h2 class="text-2xl font-bold mb-2">Nome do Produto</h2>
        <p class="text-gray-600 text-xl mb-4">R$ 100,00</p>
        <p class="text-gray-500">Data de Compra: 01/01/2024</p>
      </div>
      <!-- Imagem do Produto -->
      <div class="product-image-container">
        <img class="product-image" src="../assets/Roupas/Camiseta2.jpeg" alt="Foto do produto">
      </div>
    </div>
  </section>
  <!-- PRODUCT CONTAINER -->

  <!-- Botão de Logout -->
  <div class="text-center">
    <button id="logout-button" class="bg-black text-xl py-2 px-4 rounded-2xl text-white mt-4">Logout</button>
  </div>

  <!-- Parse JavaScript SDK -->
  <script src="https://unpkg.com/parse/dist/parse.min.js"></script>
  <script>
    // Inicialize o Parse com as suas chaves do Back4App
Parse.initialize("YOUR_APP_ID", "YOUR_JS_KEY"); 
Parse.serverURL = 'https://parseapi.back4app.com';

// Função para verificar se o usuário está logado
function verificarLogin() {
    const currentUser = Parse.User.current();
    
    if (!currentUser) {
        // Se o usuário não estiver logado, redirecionar para a página de login
        window.location.href = "/cadastro/cadastroUser.html";
    }
}

// Função para logout
function fazerLogout() {
    Parse.User.logOut().then(() => {
        // Redirecionar para a página de login após logout
        window.location.href = "/cadastro/cadastroUser.html";
    }).catch(error => {
        console.error("Erro ao fazer logout: ", error);
    });
}

// Event listener para o botão de logout
document.getElementById("logout-button").addEventListener("click", fazerLogout);

// Chama a função de verificação quando a página carregar
document.addEventListener('DOMContentLoaded', verificarLogin);

  </script>

</body>
</html>
